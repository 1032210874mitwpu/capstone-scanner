<!DOCTYPE html>
<html>
<head>
    <title>Vulnerability Scanner Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Vulnerability Scanner Dashboard</h1>
        
        <!-- Status Box with proper data checking -->
        <div class="status-box">
            <h2>System Status</h2>
            {% if data and data.system_status %}
                <p>Models loaded: {{ data.system_status.models_loaded }}</p>
                <p>Database connected: {{ data.system_status.db_connected }}</p>
            {% else %}
                <p>Status information unavailable</p>
            {% endif %}
        </div>
        
        <!-- Scan Form -->
        <div class="scan-section">
            <h2>Scan a Website</h2>
            <form action="/scan" method="POST">
                <input type="text" name="url" placeholder="Enter URL (e.g., http://example.com)" required>
                <button type="submit">Scan</button>
            </form>
        </div>
        
        <!-- Severity Legend -->
        <div class="severity-legend">
            <h3>Severity Levels</h3>
            <ul>
                {% for name, info in severity_map.items() %}
                    <li style="color: {{ info.color }}">{{ name }}: {{ info.level }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</body>
</html>